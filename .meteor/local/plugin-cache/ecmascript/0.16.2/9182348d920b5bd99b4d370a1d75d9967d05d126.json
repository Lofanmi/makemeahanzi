{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/a37/code/github/makemeahanzi-tool/lib/base.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.arm64"},"sourceFileName":"lib/base.js","filename":"/Users/a37/code/github/makemeahanzi-tool/lib/base.js","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/a37/code/github/makemeahanzi-tool","root":"/Users/a37/code/github/makemeahanzi-tool","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/a37/code/github/makemeahanzi-tool/lib/base.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"lib/base.js"}},"code":"!function (module1) {\n  module1.export({\n    assert: () => assert,\n    getPWD: () => getPWD,\n    maybeRequire: () => maybeRequire,\n    Angle: () => Angle,\n    Point: () => Point\n  });\n\n  // Prints the message and throws an error if the conditionis false.\n  const assert = (condition, message) => {\n    if (!condition) {\n      console.error(message);\n      throw new Error();\n    }\n  };\n\n  const isNumber = x => Number.isFinite(x) && !Number.isNaN(x);\n\n  const maybeRequire = module => Meteor.isServer ? Npm.require(module) : null;\n\n  let getPWD = null;\n\n  if (Meteor.isServer) {\n    Meteor.npmRequire('es6-shim');\n\n    const path = Npm.require('path');\n\n    module1.runSetters(getPWD = () => {\n      // TODO(skishore): The next line makes assumptions about the Meteor build\n      // directory's structure. We should replace it with a Meteor-provided API.\n      return process.env && process.env.PWD ? process.env.PWD : path.join(process.cwd(), '../../../..');\n    }, [\"getPWD\"]);\n  } // Returns a list of the unique values in the given array, ordered by their\n  // first appearance in the array.\n\n\n  Array.prototype.unique = function () {\n    const result = [];\n    const seen = {};\n    this.map(x => {\n      if (!seen[x]) {\n        result.push(x);\n        seen[x] = true;\n      }\n    });\n    return result;\n  }; // Given a string and a dict mapping characters to other characters, return a\n  // string with that mapping applied to each of its characters.\n\n\n  String.prototype.applyMapping = function (mapping) {\n    let result = '';\n\n    for (let i = 0; i < this.length; i++) {\n      result += mapping[this[i]] ? mapping[this[i]] : this[i];\n    }\n\n    return result;\n  }; // Helper methods for use with angles, which are floats in [-pi, pi).\n\n\n  const Angle = {\n    subtract: (angle1, angle2) => {\n      var result = angle1 - angle2;\n\n      if (result < -Math.PI) {\n        result += 2 * Math.PI;\n      }\n\n      if (result >= Math.PI) {\n        result -= 2 * Math.PI;\n      }\n\n      return result;\n    },\n    penalty: diff => diff * diff\n  }; // Helper methods for use with \"points\", which are pairs of integers.\n\n  const Point = {\n    add: (point1, point2) => [point1[0] + point2[0], point1[1] + point2[1]],\n    angle: point => Math.atan2(point[1], point[0]),\n    clone: point => [point[0], point[1]],\n\n    distance2(point1, point2) {\n      var diff = Point.subtract(point1, point2);\n      return Math.pow(diff[0], 2) + Math.pow(diff[1], 2);\n    },\n\n    dot: (point1, point2) => point1[0] * point2[0] + point1[1] * point2[1],\n    equal: (point1, point2) => point1[0] === point2[0] && point1[1] === point2[1],\n    key: point => point.join(','),\n    midpoint: (point1, point2) => {\n      return [(point1[0] + point2[0]) / 2, (point1[1] + point2[1]) / 2];\n    },\n    subtract: (point1, point2) => [point1[0] - point2[0], point1[1] - point2[1]],\n    valid: point => isNumber(point[0]) && isNumber(point[1])\n  };\n}.call(this, module);","map":{"version":3,"sources":["lib/base.js"],"names":["module1","export","assert","getPWD","maybeRequire","Angle","Point","condition","message","console","error","Error","isNumber","x","Number","isFinite","isNaN","module","Meteor","isServer","Npm","require","npmRequire","path","process","env","PWD","join","cwd","Array","prototype","unique","result","seen","map","push","String","applyMapping","mapping","i","length","subtract","angle1","angle2","Math","PI","penalty","diff","add","point1","point2","angle","point","atan2","clone","distance2","pow","dot","equal","key","midpoint","valid"],"mappings":"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","sourcesContent":["// Prints the message and throws an error if the conditionis false.\nconst assert = (condition, message) => {\n  if (!condition) {\n    console.error(message);\n    throw new Error;\n  }\n}\n\nconst isNumber = (x) => Number.isFinite(x) && !Number.isNaN(x);\n\nconst maybeRequire = (module) => Meteor.isServer ? Npm.require(module) : null;\n\nlet getPWD = null;\n\nif (Meteor.isServer) {\n  Meteor.npmRequire('es6-shim');\n  const path = Npm.require('path');\n\n  getPWD = () => {\n    // TODO(skishore): The next line makes assumptions about the Meteor build\n    // directory's structure. We should replace it with a Meteor-provided API.\n    return process.env && process.env.PWD ?\n        process.env.PWD : path.join(process.cwd(), '../../../..');\n  }\n}\n\n// Returns a list of the unique values in the given array, ordered by their\n// first appearance in the array.\nArray.prototype.unique = function() {\n  const result = [];\n  const seen = {};\n  this.map((x) => {\n    if (!seen[x]) {\n      result.push(x);\n      seen[x] = true;\n    }\n  });\n  return result;\n}\n\n// Given a string and a dict mapping characters to other characters, return a\n// string with that mapping applied to each of its characters.\nString.prototype.applyMapping = function(mapping) {\n  let result = '';\n  for (let i = 0; i < this.length; i++) {\n    result += mapping[this[i]] ? mapping[this[i]] : this[i];\n  }\n  return result;\n}\n\n// Helper methods for use with angles, which are floats in [-pi, pi).\nconst Angle = {\n  subtract: (angle1, angle2) => {\n    var result = angle1 - angle2;\n    if (result < -Math.PI) {\n      result += 2*Math.PI;\n    }\n    if (result >= Math.PI) {\n      result -= 2*Math.PI;\n    }\n    return result;\n  },\n  penalty: (diff) => diff*diff,\n};\n\n// Helper methods for use with \"points\", which are pairs of integers.\nconst Point = {\n  add: (point1, point2) => [point1[0] + point2[0], point1[1] + point2[1]],\n  angle: (point) => Math.atan2(point[1], point[0]),\n  clone: (point) => [point[0], point[1]],\n  distance2(point1, point2) {\n    var diff = Point.subtract(point1, point2);\n    return Math.pow(diff[0], 2) + Math.pow(diff[1], 2);\n  },\n  dot: (point1, point2) => point1[0]*point2[0] + point1[1]*point2[1],\n  equal: (point1, point2) => point1[0] === point2[0] && point1[1] === point2[1],\n  key: (point) => point.join(','),\n  midpoint: (point1, point2) => {\n    return [(point1[0] + point2[0])/2, (point1[1] + point2[1])/2];\n  },\n  subtract: (point1, point2) => [point1[0] - point2[0], point1[1] - point2[1]],\n  valid: (point) => isNumber(point[0]) && isNumber(point[1]),\n};\n\nexport {assert, getPWD, maybeRequire, Angle, Point};\n"]},"sourceType":"module","externalDependencies":{},"hash":"9182348d920b5bd99b4d370a1d75d9967d05d126"}
